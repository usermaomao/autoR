文档信息

名称: RPD/PRD — 基于艾宾浩斯记忆曲线的词汇/生字学习网站
目标用户: ≤10 人自用、小团队
版本: v1.0（MVP + 增强建议）
基线: 最简实现、可上线、低维护
背景与目标

问题: 手动记忆单词/汉字效率低、录入成本高、复习节奏难以坚持。
目标: 降低录入成本（自动补全）、提供科学复习（艾宾浩斯间隔）、移动端友好与可备份。
成功标准: 录入-复习闭环流畅、每日可控负荷、7/30 天留存与正确率稳步提升。
范围与非目标

范围: 录入英/汉条目、自动补全、间隔复习、四档评分、统计、导入导出、轻提醒。
非目标: 公共词库分享社区、复杂社交功能、海量并发、高成本第三方依赖（均可后续扩展）。
用户与场景

角色: 学习者（主要）、管理员（同人或1人管理）
场景: 批量录入并自动补全；碎片化复习；难项强化；跨设备迁移（导出/导入或轻同步）。
功能清单（MVP）

条目管理: 新增/编辑/删除；Deck/Tag；搜索去重；批量导入/导出。
自动补全: 英语自动取 IPA/释义/例句/音频；汉字自动取拼音/常见义/组词/部首笔画（字段可覆盖）。
复习会话: 闪卡正反、四档评分 Again/Hard/Good/Easy、撤销上一步、快捷键（1/2/3/4/空格）。
排程: 学习/再学习小步（10m→1d）；自适应间隔（稳定度 S 模型，简约版）；每日新卡/复习上限。
统计: 今日完成/正确率、7 天/30 天任务预测、难项识别（lapses 阈值）。
提醒: 每日时间窗提醒（Web 推送或邮件二选一/可关）。
备份: JSON/CSV 导出；一键导入；每日备份（管理员）。
自动补全（详细要求）

英语字段: ipa、pos、meaning_en、examples[]、audio_url；可选 meaning_zh/synonyms/frequency/CEFR
汉字字段: pinyin(声调)、多音字候选、meaning_zh(基础)、examples/组词、radical、strokes、简繁
数据源: 英语 dictionaryapi.dev（免钥匙，带 CORS）；汉字 CC‑CEDICT 内置 + 本地拼音库；浏览器 speechSynthesis TTS
缓存策略: 本地持久缓存（TTL 180 天）、可手动刷新；查询失败降级为手填不阻塞保存
交互: 失焦自动补全 + “补全/覆盖/合并/跳过”选项；多候选弹窗选择；≤1 秒返回缓存命中
验收: 自动补全命中率≥90%（常见词/字），P95 延迟≤1500ms，失败可编辑保存
复习与排程（详细要求）

评分四档: Again/Hard/Good/Easy；记录响应时长；支持撤销
学习小步: 新学 10 分钟→1 天；Again 回退；Good/Easy 可直接入复习
自适应: S' = S * {again:0.5,hard:0.9,good:1.2,easy:1.5}；目标记忆率 r*={0.5,0.8,0.9,0.96}；interval = max(0.5, S'*ln(1/r*))（天）
队列: 先到期、后新卡；daily_new_limit 与 daily_review_limit 控制负荷；难项优先
难项: lapses ≥ 3 标记 Leech，加入“强化”清单，可暂缓
可选模式: 突击模式（Cram，不影响排程）、同源卡埋葬（Bury siblings）
验收: 队列生成 ≤300ms；评分后即时更新 due_at；一日复习误差不超过 1 项
学习体验

闪卡: 前/后面可自定义字段显示；逐步揭示；TTS 播放按钮
题型: 闪卡为主；可开启拼写输入（大小写/近似容错）、听音写词/看拼音选字（配置比例）
汉字专属: 笔顺动画与简单临摹（可选）；多音字语境默认读音建议
验收: 键盘操作全流程可完成；移动端 1 手可用；题型切换不超 2 次点击
内容管理

检索: 按 Deck/Tag/Type/State/Due/难度/最近错误筛选
批量: 批量标签、移动、删除、重排程；重复检测与合并
历史: 条目变更与复习日志可视化
验收: 1000 条目内列表与搜索 P95 <500ms
统计与反馈

面板: 今日完成/正确率/耗时；未来 7/30 天任务曲线；连续打卡（Streak）
分析: 难项排行、错误高频标签、记忆稳定度趋势
验收: 指标与日志一致；导出 CSV 可复算
导入导出与备份

格式: CSV/JSON；UTF‑8；Anki 样式 CSV 字段映射（不导入其排程）
冲突: 主字段唯一（英文 word、中文 hanzi/词语）；支持跳过/覆盖/合并
备份: 每日自动备份数据库（管理员可设保留天数）；一键恢复
验收: 导入 1000 行 ≤5s；重复提示清晰；恢复后校验通过
非功能性

性能: 页面首开 P95 <1.5s；复习翻面 <100ms；自动补全缓存命中 <200ms
可靠: 评分落库成功率 100%；断网不丢记录（本地暂存后补）
可用: 移动优先、暗色模式；无障碍（键盘可达、对比度）
安全: 本人数据隔离；管理员操作审计；CSRF/速率限制；API Key 不下发前端
隐私: 仅存学习数据；用户可导出/删除个人数据
技术基线（最简）

架构: 单体 SSR（Django 5 + SQLite）+ HTMX + Tailwind；内置 Admin
字典: 英语 dictionaryapi.dev；汉字 CC‑CEDICT 子集 + 本地拼音；speechSynthesis TTS
部署: 单容器或 gunicorn + Nginx；每日 SQLite 备份
可选: 轻量 PWA/离线、轻同步（后做）
度量指标

效率: 录入并补全 ≤10 秒/条；补全触发成功率 ≥90%
学习: 7 日留存 ≥70%；正确率周均上升；难项占比下降
稳定: 错误率 <1%；一周零数据丢失；备份恢复可用率 100%
里程碑与交付

M1（1 周）: 数据模型、CRUD、固定间隔排程、复习评分、导出、Admin
M2（1 周）: 自动补全（英/汉 + 缓存）、统计仪表板、提醒
M3（1 周）: 自适应排程（S 模型）、难项强化、批量编辑与导入
M4（可选）: 题型扩展、PWA/离线、可插拔字典/翻译、轻同步
风险与对策

字典质量差: 多源/手动覆盖/缓存；允许手动标注可信度
多音字歧义: 候选面板 + 语境例词；可记忆默认读音
复习爆量: 每日上限与自动分摊；提示降低新卡
网络不稳: 缓存优先与本地暂存；失败重试与提示
开放问题

释义偏好: 英语是否强制中文释义？汉字是否需要权威中字典源？
题型默认: 是否默认开启拼写/听写/看拼音选字？占比如何？
同步需求: 是否需要跨设备实时同步，还是导入导出即可？
字典供应商: 是否提供 DeepL/有道等 Key 以增强释义质量？
验收清单（汇总）

录入补全: 英/汉条目补全可用、可覆盖、可缓存、失败可保存
复习排程: 四档评分生效、间隔更新正确、难项标记生效
会话体验: 闪卡/快捷键/TTS 流畅，移动端可用
数据管理: 搜索、批量、导入导出正常，备份可恢复
统计提醒: 仪表板与日志一致，提醒按时推送（或可关闭）